# Logfile created on Wed May 06 21:42:02 +0200 2009  [4;36;1mSQL (62.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing MainController#index (for 127.0.0.1 at 2009-05-06 21:44:09) [GET]
Rendering template within layouts/layout_1_column
Rendering main/index
  [4;35;1mCategory Load (206.6ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [4;36;1mCategory Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`parent_id` = 1) ORDER BY `lft`[0m
  [4;36;1mCategory Load (0.6ms)[0m   [0;1mSELECT * FROM `categories` WHERE (categories.`lft` >= 2 AND categories.`rgt` <= 9) ORDER BY `lft`[0m
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;35;1mProduct Load (70.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.category_id = 3) [0m
  [4;36;1mProduct Load (39.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.category_id = 5) [0m
  [4;35;1mProduct Columns (4.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.category_id = 16) [0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.category_id = 17) [0m
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.category_id = 18) [0m
Rendered categories/_icon (281.8ms)
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) ORDER BY `lft` LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) ORDER BY `lft` LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (`categories`.`parent_id` = 3) [0m
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` = 3) ORDER BY `lft`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (`categories`.`parent_id` = 5) [0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `categories` WHERE (categories.`lft` >= 3 AND categories.`rgt` <= 4) ORDER BY `lft`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.category_id = 5) [0m
Rendered categories/_icon (4.2ms)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` WHERE (`categories`.`parent_id` = 16) [0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM `categories` WHERE (categories.`lft` >= 7 AND categories.`rgt` <= 8) ORDER BY `lft`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.category_id = 16) [0m
Rendered categories/_icon (2.4ms)
Rendered categories/_line_children (305.8ms)
Rendered categories/_brothers (323.8ms)
Rendered search/_formbox (353.2ms)
Completed in 881ms (View: 488, DB: 390) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CategoriesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:44:11) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mCategory Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 3) [0m
Rendering categories/thumbnail
Completed in 422ms (View: 395, DB: 3) | 200 OK [http://localhost/categories/3/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CategoriesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:44:11) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mCategory Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mCategory Load (0.4ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 5) [0m
Rendering categories/thumbnail
Completed in 142ms (View: 117, DB: 3) | 200 OK [http://localhost/categories/5/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CategoriesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:44:11) [GET]
  Parameters: {"id"=>"16"}
  [4;36;1mCategory Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 16) [0m
Rendering categories/thumbnail
Completed in 137ms (View: 115, DB: 2) | 200 OK [http://localhost/categories/16/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SearchController#search_in_category (for 127.0.0.1 at 2009-05-06 21:44:18) [POST]
  Parameters: {"authenticity_token"=>"HpfBv93Y5wqvgK8T/DA7Mx10a6pthd8SNApONY3Uu9A=", "category_id"=>"5"}
  [4;35;1mCategory Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 5) [0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM `categories` WHERE (categories.`lft` >= 3 AND categories.`rgt` <= 4) ORDER BY `lft`[0m
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;36;1mProduct Load (1.9ms)[0m   [0;1mSELECT * FROM `products` WHERE (category_id IN (5)) LIMIT 10[0m
  [4;35;1mProduct Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `products`[0m
Rendered search/_product_result (20.1ms)
Rendered search/_product_result (0.2ms)
Rendered search/_product_result (0.2ms)
Rendered search/_product_result (0.2ms)
Rendered search/_product_result (0.2ms)
Rendered search/_product_result (0.2ms)
Rendered search/_product_result (0.2ms)
Rendered search/_product_result (0.3ms)
Rendered search/_product_result (0.3ms)
Rendered search/_product_result (0.2ms)
Rendered search/_submit_selected_button (1.7ms)
Rendered search/_formbox (31.2ms)
Completed in 98ms (View: 34, DB: 8) | 200 OK [http://localhost/search/search_in_category?category_id=5]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:44:18) [GET]
  Parameters: {"id"=>"23"}
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;35;1mProduct Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 23) [0m
Rendering products/thumbnail
Completed in 154ms (View: 129, DB: 3) | 200 OK [http://localhost/products/23/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:44:18) [GET]
  Parameters: {"id"=>"24"}
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;36;1mProduct Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.8ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 24) [0m
Rendering products/thumbnail
Completed in 145ms (View: 113, DB: 3) | 200 OK [http://localhost/products/24/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:44:19) [GET]
  Parameters: {"id"=>"25"}
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;35;1mProduct Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 25) [0m
Rendering products/thumbnail
Completed in 152ms (View: 117, DB: 3) | 200 OK [http://localhost/products/25/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:44:19) [GET]
  Parameters: {"id"=>"26"}
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;36;1mProduct Columns (3.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 26) [0m
Rendering products/thumbnail
Completed in 152ms (View: 116, DB: 4) | 200 OK [http://localhost/products/26/thumbnail.jpg]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:44:19) [GET]
  Parameters: {"id"=>"27"}
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;35;1mProduct Columns (4.3ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 27) [0m
Rendering products/thumbnail
Completed in 159ms (View: 125, DB: 5) | 200 OK [http://localhost/products/27/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:44:19) [GET]
  Parameters: {"id"=>"28"}
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;36;1mProduct Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 28) [0m
Rendering products/thumbnail
Completed in 141ms (View: 112, DB: 3) | 200 OK [http://localhost/products/28/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:44:19) [GET]
  Parameters: {"id"=>"29"}
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;35;1mProduct Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 29) [0m
Rendering products/thumbnail
Completed in 149ms (View: 114, DB: 3) | 200 OK [http://localhost/products/29/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:44:20) [GET]
  Parameters: {"id"=>"30"}
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;36;1mProduct Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 30) [0m
Rendering products/thumbnail
Completed in 152ms (View: 115, DB: 3) | 200 OK [http://localhost/products/30/thumbnail.jpg]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:44:20) [GET]
  Parameters: {"id"=>"31"}
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;35;1mProduct Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (1.7ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 31) [0m
Rendering products/thumbnail
Completed in 144ms (View: 112, DB: 4) | 200 OK [http://localhost/products/31/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ProductsController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:44:20) [GET]
  Parameters: {"id"=>"32"}
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;36;1mProduct Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.8ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 32) [0m
Rendering products/thumbnail
Completed in 163ms (View: 132, DB: 4) | 200 OK [http://localhost/products/32/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#new (for 127.0.0.1 at 2009-05-06 21:44:22) [GET]
Rendering template within layouts/layout_1_column
Rendering sessions/new
Completed in 55ms (View: 52, DB: 0) | 200 OK [http://localhost/login]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#create (for 127.0.0.1 at 2009-05-06 21:44:30) [POST]
  Parameters: {"commit"=>"Log in", "authenticity_token"=>"HpfBv93Y5wqvgK8T/DA7Mx10a6pthd8SNApONY3Uu9A=", "login"=>"nextmood", "password"=>"sarah9"}
  [4;36;1mUser Columns (60.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`login` = 'nextmood') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `roles` = NULL WHERE `id` = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/
Completed in 107ms (DB: 61) | 302 Found [http://localhost/session]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing MainController#index (for 127.0.0.1 at 2009-05-06 21:44:31) [GET]
Rendering template within layouts/layout_1_column
Rendering main/index
  [4;36;1mCategory Load (0.6ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [4;35;1mCategory Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` = 1) ORDER BY `lft`[0m
  [4;35;1mCategory Load (0.6ms)[0m   [0mSELECT * FROM `categories` WHERE (categories.`lft` >= 2 AND categories.`rgt` <= 9) ORDER BY `lft`[0m
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.category_id = 3) [0m
  [4;35;1mProduct Load (9.7ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.category_id = 5) [0m
  [4;36;1mProduct Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.category_id = 16) [0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.category_id = 17) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.category_id = 18) [0m
Rendered categories/_icon (52.6ms)
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) ORDER BY `lft` LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 1) ORDER BY `lft` LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` WHERE (`categories`.`parent_id` = 3) [0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`parent_id` = 3) ORDER BY `lft`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` WHERE (`categories`.`parent_id` = 5) [0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM `categories` WHERE (categories.`lft` >= 3 AND categories.`rgt` <= 4) ORDER BY `lft`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.category_id = 5) [0m
Rendered categories/_icon (3.3ms)
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `categories` WHERE (`categories`.`parent_id` = 16) [0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `categories` WHERE (categories.`lft` >= 7 AND categories.`rgt` <= 8) ORDER BY `lft`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.category_id = 16) [0m
Rendered categories/_icon (2.1ms)
Rendered categories/_line_children (65.4ms)
Rendered categories/_brothers (69.8ms)
Rendered search/_formbox (74.0ms)
  [4;36;1mUser Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 176ms (View: 150, DB: 22) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CategoriesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:44:31) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mCategory Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mCategory Load (0.7ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 3) [0m
Rendering categories/thumbnail
Completed in 137ms (View: 117, DB: 3) | 200 OK [http://localhost/categories/3/thumbnail.jpg]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing CategoriesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:44:31) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mCategory Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 5) [0m
Rendering categories/thumbnail
Completed in 125ms (View: 106, DB: 3) | 200 OK [http://localhost/categories/5/thumbnail.jpg]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing CategoriesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:44:32) [GET]
  Parameters: {"id"=>"16"}
  [4;35;1mCategory Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mCategory Load (0.6ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 16) [0m
Rendering categories/thumbnail
Completed in 127ms (View: 107, DB: 3) | 200 OK [http://localhost/categories/16/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#index (for 127.0.0.1 at 2009-05-06 21:57:23) [GET]
  [4;36;1mUser Columns (5.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (2.6ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Rendering template within layouts/layout_1_column
Rendering dashboard/index
  [4;36;1mCategory Load (0.6ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [4;35;1mCategory Columns (3.8ms)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM `categories` WHERE (categories.`lft` >= 1 AND categories.`rgt` <= 10) ORDER BY `lft`[0m
  [4;35;1mFeature Columns (48.3ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `features` WHERE (`features`.category_id = 3) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `features` WHERE (`features`.category_id = 5) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `features` WHERE (`features`.category_id = 17) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `features` WHERE (`features`.category_id = 18) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `features` WHERE (`features`.category_id = 16) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `categories` WHERE (categories.`lft` >= 1 AND categories.`rgt` <= 10) ORDER BY `lft`[0m
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;35;1mProduct Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (`products`.category_id = 3) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (`products`.category_id = 5) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (`products`.category_id = 17) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (`products`.category_id = 18) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (`products`.category_id = 16) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `categories` WHERE (categories.`lft` >= 1 AND categories.`rgt` <= 10) ORDER BY `lft`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (`products`.category_id = 3) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (`products`.category_id = 5) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (`products`.category_id = 17) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` WHERE (`products`.category_id = 18) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `products` WHERE (`products`.category_id = 16) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `categories` WHERE (categories.`lft` >= 1 AND categories.`rgt` <= 10) ORDER BY `lft`[0m
  [4;36;1mQuestion Columns (43.0ms)[0m   [0;1mSHOW FIELDS FROM `questions`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `questions` WHERE (`questions`.category_id = 3) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `questions` WHERE (`questions`.category_id = 5) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `questions` WHERE (`questions`.category_id = 17) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `questions` WHERE (`questions`.category_id = 18) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `questions` WHERE (`questions`.category_id = 16) [0m
Completed in 401ms (View: 266, DB: 112) | 200 OK [http://localhost/dashboard]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing DashboardController#dashboard_action_with_category (for 127.0.0.1 at 2009-05-06 21:57:30) [POST]
  Parameters: {"dashboard_action"=>"questions_edition", "authenticity_token"=>"HpfBv93Y5wqvgK8T/DA7Mx10a6pthd8SNApONY3Uu9A=", "category_id"=>"5"}
Redirected to http://localhost:3000/categories/5/questions
Completed in 3ms (DB: 0) | 302 Found [http://localhost/dashboard/category/questions_edition]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing QuestionsController#index (for 127.0.0.1 at 2009-05-06 21:57:30) [GET]
  Parameters: {"category_id"=>"5"}
  [4;36;1mCategory Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mCategory Load (0.7ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 5) [0m
  [4;36;1mQuestion Load (1.1ms)[0m   [0;1mSELECT * FROM `questions` WHERE (questions.category_id=5) ORDER BY created_at DESC[0m
  [4;35;1mQuestion Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `questions`[0m
  [4;36;1mQuestionGeneric Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `questions`[0m
  [4;35;1mQuestionTradeOff Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `questions`[0m
  [4;36;1mQuestionPoll Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `questions`[0m
  [4;35;1mQuestionFeature Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `questions`[0m
  [4;36;1mChoice Load (46.5ms)[0m   [0;1mSELECT `choices`.* FROM `choices` WHERE (`choices`.question_id IN (51,50,49,48,47,44,42,41,40,39,38,36,33,32,30,29,27,26,22,21,20,18,17,13,7,1)) [0m
  [4;35;1mChoice Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoiceOnFeature Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoiceSimple Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoiceOnProduct Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Rendering template within layouts/layout_1_column
Rendering questions/index
  [4;35;1mCategory Load (0.6ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY `lft` LIMIT 1[0m
  [4;36;1mCategory Load (0.5ms)[0m   [0;1mSELECT * FROM `categories` WHERE (categories.`lft` >= 1 AND categories.`rgt` <= 10) ORDER BY `lft`[0m
  [4;35;1mUser Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;35;1mUser Load (20.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 97) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 97) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 97) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 97) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 97) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 97) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 97) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 97) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 97) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 97) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 97) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 97) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 97) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 97) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 97) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 97) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 97) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 97) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 97) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 97) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 376ms (View: 65, DB: 97) | 200 OK [http://localhost/categories/5/questions]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing QuestionsController#edit (for 127.0.0.1 at 2009-05-06 21:57:33) [GET]
  Parameters: {"id"=>"40"}
  [4;36;1mQuestion Columns (4.3ms)[0m   [0;1mSHOW FIELDS FROM `questions`[0m
  [4;35;1mQuestion Load (41.8ms)[0m   [0mSELECT * FROM `questions` WHERE (`questions`.`id` = 40) [0m
Rendering template within layouts/layout_1_column
Rendering questions/edit
  [4;36;1mQuestionGeneric Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `questions`[0m
  [4;35;1mCategory Columns (9.2ms)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mCategory Load (1.5ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 5) [0m
Rendered questions/_choice_title (24.4ms)
  [4;35;1mTagging Columns (59.3ms)[0m   [0mSHOW FIELDS FROM `taggings`[0m
  [4;36;1mTag Load (4.7ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Question') AND (`taggings`.taggable_id = 40)) [0m
Rendered main/_media_editor (125.3ms)
Rendered main/_image_editor (3.9ms)
  [4;35;1mChoice Load (0.7ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.question_id = 40) [0m
  [4;36;1mChoice Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoiceSimple Columns (4.6ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Rendered main/_media_editor (0.8ms)
Rendered main/_image_editor (0.9ms)
  [4;36;1mTip Columns (8.2ms)[0m   [0;1mSHOW FIELDS FROM `tips`[0m
  [4;35;1mSQL (2.8ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 134) [0m
  [4;36;1mTip Load (1.0ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 134) [0m
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;35;1mProduct Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (3.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;35;1mProduct Load (0.8ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;35;1mFeature Load (2.8ms)[0m   [0mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;36;1mFeature Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureTag Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureDate Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureHeader Columns (3.4ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureNumeric Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureTags Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureBinary Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureTextArea Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureNumericInterval Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mProduct Load (10.6ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.category_id = 5) [0m
  [4;36;1mProductFilter Load (40.6ms)[0m   [0;1mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 134) [0m
  [4;35;1mProductFilter Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `product_filters`[0m
  [4;36;1mProductFilterFeatureTags Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mFeature Load (0.5ms)[0m   [0mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;36;1mDomain Columns (40.2ms)[0m   [0;1mSHOW FIELDS FROM `domains`[0m
  [4;35;1mDomain Load (1.1ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;36;1mDomainTag Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `domains`[0m
  [4;35;1mDtag Load (6.5ms)[0m   [0mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
  [4;36;1mDtag Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `dtags`[0m
Rendered product_filters/_edit (93.5ms)
Rendered main/_media_editor (1.0ms)
Rendered main/_image_editor (1.1ms)
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;36;1mTip Load (1.0ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 135) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
Rendered product_filters/_edit (3.4ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.8ms)
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;36;1mTip Load (0.8ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 38) [0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 44) [0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 33) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.4ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 136) [0m
  [4;36;1mFeature Load (0.3ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 150) [0m
  [4;35;1mDomain Load (1.0ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 133) [0m
  [4;36;1mDomainBinary Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `domains`[0m
  [4;35;1mDtag Load (0.5ms)[0m   [0mSELECT * FROM `dtags` WHERE (id IN (480,481)) [0m
Rendered product_filters/_edit (8.8ms)
Rendered main/_media_editor (1.1ms)
Rendered main/_image_editor (1.6ms)
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;35;1mTip Load (1.2ms)[0m   [0mSELECT * FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 50) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;36;1mProductFilter Load (0.5ms)[0m   [0;1mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 137) [0m
  [4;35;1mFeature Load (0.3ms)[0m   [0mSELECT * FROM `features` WHERE (`features`.`id` = 149) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM `domains` WHERE (`domains`.`id` = 132) [0m
  [4;35;1mDtag Load (0.3ms)[0m   [0mSELECT * FROM `dtags` WHERE (id IN (474,475,476,477,478,479,1028,1069)) [0m
Rendered product_filters/_edit (4.3ms)
Rendered main/_media_editor (0.7ms)
Rendered main/_image_editor (0.9ms)
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 138) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;36;1mProductFilter Load (0.5ms)[0m   [0;1mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 138) [0m
  [4;35;1mProductFilterRating Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `product_filters`[0m
  [4;36;1mFeature Load (0.3ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 151) [0m
Rendered product_filters/_edit (1.7ms)
Rendered questions/_choices_generic (1064.5ms)
Rendered main/_image80x80 (1.8ms)
Rendered main/_thumbnail (105.3ms)
Rendered main/_fpa_cb (3.4ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.5ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.4ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.4ms)
Rendered main/_fpa_cb (0.2ms)
Rendered main/_image80x80 (0.4ms)
Rendered main/_thumbnail (0.6ms)
Rendered main/_fpa_cb (0.1ms)
Rendered questions/_show (131.3ms)
  [4;35;1mUser Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 1327ms (View: 998, DB: 304) | 200 OK [http://localhost/questions/40/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing QuestionsController#edit (for 127.0.0.1 at 2009-05-06 21:57:34) [GET]
  Parameters: {"id"=>"40"}
  [4;36;1mQuestion Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `questions`[0m
  [4;35;1mQuestion Load (2.1ms)[0m   [0mSELECT * FROM `questions` WHERE (`questions`.`id` = 40) [0m
Rendering template within layouts/layout_1_column
Rendering questions/edit
  [4;36;1mQuestionGeneric Columns (5.5ms)[0m   [0;1mSHOW FIELDS FROM `questions`[0m
  [4;35;1mCategory Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mCategory Load (1.3ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 5) [0m
Rendered questions/_choice_title (9.8ms)
  [4;35;1mTag Load (0.6ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Question') AND (`taggings`.taggable_id = 40)) [0m
Rendered main/_media_editor (126.2ms)
Rendered main/_image_editor (1.0ms)
  [4;36;1mChoice Load (0.7ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.question_id = 40) [0m
  [4;35;1mChoice Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoiceSimple Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Rendered main/_media_editor (1.8ms)
Rendered main/_image_editor (0.9ms)
  [4;35;1mTip Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `tips`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 134) [0m
  [4;35;1mTip Load (0.8ms)[0m   [0mSELECT * FROM `tips` WHERE (`tips`.choice_id = 134) [0m
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;36;1mProduct Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mProduct Load (1.9ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;36;1mFeature Load (2.7ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mFeature Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTag Columns (3.5ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureDate Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureHeader Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureNumeric Columns (3.3ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTags Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureBinary Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTextArea Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureNumericInterval Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mProduct Load (10.8ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.category_id = 5) [0m
  [4;35;1mProductFilter Load (0.6ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 134) [0m
  [4;36;1mProductFilter Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mProductFilterFeatureTags Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `product_filters`[0m
  [4;36;1mFeature Load (0.9ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;35;1mDomain Load (0.3ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;36;1mDtag Load (0.6ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
  [4;35;1mDtag Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `dtags`[0m
Rendered product_filters/_edit (22.4ms)
Rendered main/_media_editor (0.8ms)
Rendered main/_image_editor (1.4ms)
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;35;1mTip Load (0.9ms)[0m   [0mSELECT * FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;36;1mProductFilter Load (0.5ms)[0m   [0;1mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 135) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
Rendered product_filters/_edit (5.9ms)
Rendered main/_media_editor (0.8ms)
Rendered main/_image_editor (0.8ms)
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;35;1mTip Load (0.8ms)[0m   [0mSELECT * FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 38) [0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 44) [0m
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 33) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;36;1mProductFilter Load (0.5ms)[0m   [0;1mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 136) [0m
  [4;35;1mFeature Load (0.3ms)[0m   [0mSELECT * FROM `features` WHERE (`features`.`id` = 150) [0m
  [4;36;1mDomain Load (0.3ms)[0m   [0;1mSELECT * FROM `domains` WHERE (`domains`.`id` = 133) [0m
  [4;35;1mDtag Load (0.5ms)[0m   [0mSELECT * FROM `dtags` WHERE (id IN (480,481)) [0m
Rendered product_filters/_edit (5.2ms)
Rendered main/_media_editor (0.7ms)
Rendered main/_image_editor (0.8ms)
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;35;1mTip Load (0.9ms)[0m   [0mSELECT * FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;36;1mProduct Load (0.9ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 50) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;36;1mProductFilter Load (0.5ms)[0m   [0;1mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 137) [0m
  [4;35;1mFeature Load (0.3ms)[0m   [0mSELECT * FROM `features` WHERE (`features`.`id` = 149) [0m
  [4;36;1mDomain Load (0.3ms)[0m   [0;1mSELECT * FROM `domains` WHERE (`domains`.`id` = 132) [0m
  [4;35;1mDtag Load (0.4ms)[0m   [0mSELECT * FROM `dtags` WHERE (id IN (474,475,476,477,478,479,1028,1069)) [0m
Rendered product_filters/_edit (5.9ms)
Rendered main/_media_editor (0.7ms)
Rendered main/_image_editor (0.9ms)
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 138) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;36;1mProductFilter Load (0.5ms)[0m   [0;1mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 138) [0m
  [4;35;1mProductFilterRating Columns (3.7ms)[0m   [0mSHOW FIELDS FROM `product_filters`[0m
  [4;36;1mFeature Load (0.4ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 151) [0m
Rendered product_filters/_edit (2.5ms)
Rendered questions/_choices_generic (877.3ms)
Rendered main/_image80x80 (0.4ms)
Rendered main/_thumbnail (1.2ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.7ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.8ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.8ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.7ms)
Rendered main/_fpa_cb (0.1ms)
Rendered questions/_show (9.5ms)
  [4;35;1mUser Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 1046ms (View: 921, DB: 96) | 200 OK [http://localhost/questions/40/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:57:36) [GET]
  Parameters: {"id"=>"134"}
  [4;36;1mChoice Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (1.3ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 134) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 300ms (View: 277, DB: 6) | 200 OK [http://localhost/choices/134/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:57:36) [GET]
  Parameters: {"id"=>"135"}
  [4;36;1mChoice Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (7.3ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 135) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 168ms (View: 135, DB: 12) | 200 OK [http://localhost/choices/135/thumbnail.jpg]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:57:36) [GET]
  Parameters: {"id"=>"136"}
  [4;36;1mChoice Columns (4.6ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.4ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 136) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 161ms (View: 137, DB: 8) | 200 OK [http://localhost/choices/136/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:57:37) [GET]
  Parameters: {"id"=>"137"}
  [4;36;1mChoice Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (1.0ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 137) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 172ms (View: 138, DB: 5) | 200 OK [http://localhost/choices/137/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:57:37) [GET]
  Parameters: {"id"=>"138"}
  [4;36;1mChoice Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.3ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 138) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 160ms (View: 138, DB: 5) | 200 OK [http://localhost/choices/138/thumbnail.jpg]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#add_filter (for 127.0.0.1 at 2009-05-06 21:57:44) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"HpfBv93Y5wqvgK8T/DA7Mx10a6pthd8SNApONY3Uu9A=", "product_id"=>"23", "id"=>"134", "recommendation"=>"+1", "type_filter"=>"product", "feature_id"=>"1"}
  [4;36;1mChoice Columns (3.7ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (40.2ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 134) [0m
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;36;1mProduct Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 23) [0m
  [4;36;1mProductFilterSimple Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mProductFilterSimple Create (1.3ms)[0m   [0;1mINSERT INTO `product_filters` (`updated_at`, `type`, `product_id`, `operator`, `choice_id`, `recommendation`, `feature_id`, `descriptor`, `created_at`) VALUES('2009-05-06 19:57:44', 'ProductFilterSimple', 23, 'or', NULL, 1, NULL, NULL, '2009-05-06 19:57:44')[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mChoiceSimple Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mSQL (1.4ms)[0m   [0mBEGIN[0m
  [4;36;1mProductFilterSimple Update (0.4ms)[0m   [0;1mUPDATE `product_filters` SET `choice_id` = 134, `updated_at` = '2009-05-06 19:57:44' WHERE `id` = 196[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/questions/40/edit
Completed in 115ms (DB: 55) | 302 Found [http://localhost/choices/134/add_filter]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing QuestionsController#edit (for 127.0.0.1 at 2009-05-06 21:57:45) [GET]
  Parameters: {"id"=>"40"}
  [4;35;1mQuestion Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `questions`[0m
  [4;36;1mQuestion Load (0.5ms)[0m   [0;1mSELECT * FROM `questions` WHERE (`questions`.`id` = 40) [0m
Rendering template within layouts/layout_1_column
Rendering questions/edit
  [4;35;1mQuestionGeneric Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `questions`[0m
  [4;36;1mCategory Columns (4.3ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mCategory Load (0.3ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 5) [0m
Rendered questions/_choice_title (7.6ms)
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Question') AND (`taggings`.taggable_id = 40)) [0m
Rendered main/_media_editor (185.1ms)
Rendered main/_image_editor (0.9ms)
  [4;35;1mChoice Load (0.7ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.question_id = 40) [0m
  [4;36;1mChoice Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoiceSimple Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Rendered main/_media_editor (0.7ms)
Rendered main/_image_editor (0.8ms)
  [4;36;1mTip Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `tips`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 134) [0m
  [4;36;1mTip Load (0.8ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 134) [0m
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;35;1mProduct Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (1.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;35;1mFeature Load (2.1ms)[0m   [0mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;36;1mFeature Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureTag Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureDate Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureHeader Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureNumeric Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureTags Columns (3.4ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureBinary Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureTextArea Columns (3.5ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureNumericInterval Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mProduct Load (10.7ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.category_id = 5) [0m
  [4;36;1mProductFilter Load (0.6ms)[0m   [0;1mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 134) [0m
  [4;35;1mProductFilter Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `product_filters`[0m
  [4;36;1mProductFilterFeatureTags Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mFeature Load (0.4ms)[0m   [0mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;35;1mDtag Load (0.5ms)[0m   [0mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
  [4;36;1mDtag Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `dtags`[0m
Rendered product_filters/_edit (17.6ms)
  [4;35;1mProductFilterSimple Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `product_filters`[0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 23) [0m
Rendered product_filters/_edit (1.5ms)
Rendered main/_media_editor (0.8ms)
Rendered main/_image_editor (0.8ms)
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;36;1mTip Load (0.8ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 135) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
Rendered product_filters/_edit (3.5ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.9ms)
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;36;1mTip Load (1.0ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 38) [0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 44) [0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 33) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 136) [0m
  [4;36;1mFeature Load (0.3ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 150) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 133) [0m
  [4;36;1mDtag Load (0.2ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (480,481)) [0m
Rendered product_filters/_edit (3.0ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;36;1mTip Load (0.8ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 50) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.4ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 137) [0m
  [4;36;1mFeature Load (0.3ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 149) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 132) [0m
  [4;36;1mDtag Load (0.3ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (474,475,476,477,478,479,1028,1069)) [0m
Rendered product_filters/_edit (3.6ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 138) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.4ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 138) [0m
  [4;36;1mProductFilterRating Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mFeature Load (0.3ms)[0m   [0mSELECT * FROM `features` WHERE (`features`.`id` = 151) [0m
Rendered product_filters/_edit (1.6ms)
Rendered questions/_choices_generic (585.0ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.4ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.1ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.1ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.1ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.3ms)
Rendered main/_thumbnail (0.4ms)
Rendered main/_fpa_cb (0.1ms)
Rendered questions/_show (3.8ms)
  [4;36;1mUser Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 647ms (View: 535, DB: 86) | 200 OK [http://localhost/questions/40/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:57:46) [GET]
  Parameters: {"id"=>"134"}
  [4;35;1mChoice Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (3.0ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 134) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (5.4ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 158ms (View: 130, DB: 11) | 200 OK [http://localhost/choices/134/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:57:46) [GET]
  Parameters: {"id"=>"135"}
  [4;35;1mChoice Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (0.7ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 135) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 164ms (View: 138, DB: 5) | 200 OK [http://localhost/choices/135/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:57:46) [GET]
  Parameters: {"id"=>"136"}
  [4;35;1mChoice Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (0.3ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 136) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 158ms (View: 138, DB: 5) | 200 OK [http://localhost/choices/136/thumbnail.jpg]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:57:47) [GET]
  Parameters: {"id"=>"137"}
  [4;35;1mChoice Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (0.4ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 137) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 156ms (View: 136, DB: 5) | 200 OK [http://localhost/choices/137/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:57:47) [GET]
  Parameters: {"id"=>"138"}
  [4;35;1mChoice Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (0.8ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 138) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 156ms (View: 134, DB: 5) | 200 OK [http://localhost/choices/138/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#add_filter (for 127.0.0.1 at 2009-05-06 21:57:55) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"HpfBv93Y5wqvgK8T/DA7Mx10a6pthd8SNApONY3Uu9A=", "product_id"=>"40", "id"=>"134", "recommendation"=>"+1", "type_filter"=>"product", "feature_id"=>"1"}
  [4;35;1mChoice Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (0.3ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 134) [0m
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;35;1mProduct Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.9ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
  [4;35;1mProductFilterSimple Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `product_filters`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProductFilterSimple Create (0.3ms)[0m   [0mINSERT INTO `product_filters` (`updated_at`, `type`, `product_id`, `operator`, `choice_id`, `recommendation`, `feature_id`, `descriptor`, `created_at`) VALUES('2009-05-06 19:57:55', 'ProductFilterSimple', 40, 'or', NULL, 1, NULL, NULL, '2009-05-06 19:57:55')[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mChoiceSimple Columns (3.2ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProductFilterSimple Update (0.3ms)[0m   [0mUPDATE `product_filters` SET `choice_id` = 134, `updated_at` = '2009-05-06 19:57:55' WHERE `id` = 197[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/questions/40/edit
Completed in 65ms (DB: 15) | 302 Found [http://localhost/choices/134/add_filter]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing QuestionsController#edit (for 127.0.0.1 at 2009-05-06 21:57:55) [GET]
  Parameters: {"id"=>"40"}
  [4;36;1mQuestion Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `questions`[0m
  [4;35;1mQuestion Load (0.8ms)[0m   [0mSELECT * FROM `questions` WHERE (`questions`.`id` = 40) [0m
Rendering template within layouts/layout_1_column
Rendering questions/edit
  [4;36;1mQuestionGeneric Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `questions`[0m
  [4;35;1mCategory Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mCategory Load (0.3ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 5) [0m
Rendered questions/_choice_title (11.5ms)
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Question') AND (`taggings`.taggable_id = 40)) [0m
Rendered main/_media_editor (184.8ms)
Rendered main/_image_editor (0.9ms)
  [4;36;1mChoice Load (1.3ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.question_id = 40) [0m
  [4;35;1mChoice Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoiceSimple Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Rendered main/_media_editor (0.9ms)
Rendered main/_image_editor (1.0ms)
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 134) [0m
  [4;36;1mTip Load (1.0ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 134) [0m
  [4;35;1mProduct Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m

ActionView::TemplateError (can't dup NilClass) on line #67 of app/views/questions/_choices_generic.html.erb:
64: 		<!-- number of product matching -->
65: 		<small style="">
66: 			<b><%= choice_generic.tips.size %> products matching:</b>
67: 			<%= choice_generic.tips.first(3).collect {|t| t.product ? t.product.label : '?' }.join(', ') %>
68: 			<%= ", ..." if choice_generic.tips.size > 3 %>
69: 		</small>
70: 		

    app/views/questions/_choices_generic.html.erb:67
    app/views/questions/_choices_generic.html.erb:67:in `collect'
    app/views/questions/_choices_generic.html.erb:67
    app/views/questions/_choices_generic.html.erb:46
    app/views/questions/edit.html.erb:25

Rendered rescues/_trace (127.9ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing QuestionsController#edit (for 127.0.0.1 at 2009-05-06 21:58:39) [GET]
  Parameters: {"id"=>"40"}
  [4;35;1mQuestion Columns (3.4ms)[0m   [0mSHOW FIELDS FROM `questions`[0m
  [4;36;1mQuestion Load (0.4ms)[0m   [0;1mSELECT * FROM `questions` WHERE (`questions`.`id` = 40) [0m
Rendering template within layouts/layout_1_column
Rendering questions/edit
  [4;35;1mQuestionGeneric Columns (3.5ms)[0m   [0mSHOW FIELDS FROM `questions`[0m
  [4;36;1mCategory Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 5) [0m
Rendered questions/_choice_title (9.9ms)
  [4;36;1mTagging Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `taggings`[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Question') AND (`taggings`.taggable_id = 40)) [0m
Rendered main/_media_editor (176.8ms)
Rendered main/_image_editor (3.3ms)
  [4;36;1mChoice Load (0.7ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.question_id = 40) [0m
  [4;35;1mChoice Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoiceSimple Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Rendered main/_media_editor (0.7ms)
Rendered main/_image_editor (1.0ms)
  [4;35;1mTip Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `tips`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 134) [0m
  [4;35;1mTip Load (1.2ms)[0m   [0mSELECT * FROM `tips` WHERE (`tips`.choice_id = 134) [0m
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;36;1mProduct Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.8ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mProduct Load (0.8ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;36;1mFeature Load (2.1ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mFeature Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTag Columns (3.7ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureDate Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureHeader Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureNumeric Columns (4.1ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTags Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureBinary Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTextArea Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureNumericInterval Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mProduct Load (10.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.category_id = 5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 134) [0m
  [4;36;1mProductFilter Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mProductFilterFeatureTags Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `product_filters`[0m
  [4;36;1mFeature Load (0.4ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;35;1mDomain Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `domains`[0m
  [4;36;1mDomain Load (0.5ms)[0m   [0;1mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;35;1mDomainTag Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `domains`[0m
  [4;36;1mDtag Load (0.5ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
  [4;35;1mDtag Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `dtags`[0m
Rendered product_filters/_edit (30.5ms)
  [4;36;1mProductFilterSimple Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 23) [0m
Rendered product_filters/_edit (1.6ms)
  [4;36;1mProduct Load (0.8ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendered product_filters/_edit (1.8ms)
Rendered main/_media_editor (0.9ms)
Rendered main/_image_editor (1.0ms)
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;36;1mTip Load (1.0ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 135) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
Rendered product_filters/_edit (3.5ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.8ms)
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;36;1mTip Load (0.8ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 38) [0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 44) [0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 33) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 136) [0m
  [4;36;1mFeature Load (0.3ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 150) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 133) [0m
  [4;36;1mDomainBinary Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `domains`[0m
  [4;35;1mDtag Load (0.3ms)[0m   [0mSELECT * FROM `dtags` WHERE (id IN (480,481)) [0m
Rendered product_filters/_edit (6.6ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;35;1mTip Load (0.8ms)[0m   [0mSELECT * FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 50) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;36;1mProductFilter Load (0.6ms)[0m   [0;1mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 137) [0m
  [4;35;1mFeature Load (0.3ms)[0m   [0mSELECT * FROM `features` WHERE (`features`.`id` = 149) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM `domains` WHERE (`domains`.`id` = 132) [0m
  [4;35;1mDtag Load (0.3ms)[0m   [0mSELECT * FROM `dtags` WHERE (id IN (474,475,476,477,478,479,1028,1069)) [0m
Rendered product_filters/_edit (3.8ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 138) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;36;1mProductFilter Load (0.5ms)[0m   [0;1mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 138) [0m
  [4;35;1mProductFilterRating Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `product_filters`[0m
  [4;36;1mFeature Load (0.4ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 151) [0m
Rendered product_filters/_edit (2.0ms)
Rendered questions/_choices_generic (809.3ms)
Rendered main/_image80x80 (0.6ms)
Rendered main/_thumbnail (5.2ms)
Rendered main/_fpa_cb (1.6ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.1ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.4ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.4ms)
Rendered main/_fpa_cb (0.1ms)
Rendered questions/_show (23.6ms)
  [4;35;1mUser Columns (3.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 942ms (View: 791, DB: 98) | 200 OK [http://localhost/questions/40/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:58:40) [GET]
  Parameters: {"id"=>"134"}
  [4;36;1mChoice Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.4ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 134) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 165ms (View: 143, DB: 6) | 200 OK [http://localhost/choices/134/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:58:40) [GET]
  Parameters: {"id"=>"135"}
  [4;36;1mChoice Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.6ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 135) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 133ms (View: 113, DB: 5) | 200 OK [http://localhost/choices/135/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:58:41) [GET]
  Parameters: {"id"=>"136"}
  [4;36;1mChoice Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.7ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 136) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 133ms (View: 111, DB: 5) | 200 OK [http://localhost/choices/136/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:58:41) [GET]
  Parameters: {"id"=>"137"}
  [4;36;1mChoice Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.4ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 137) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 130ms (View: 111, DB: 4) | 200 OK [http://localhost/choices/137/thumbnail.jpg]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 21:58:41) [GET]
  Parameters: {"id"=>"138"}
  [4;36;1mChoice Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.4ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 138) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 131ms (View: 111, DB: 5) | 200 OK [http://localhost/choices/138/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing QuestionsController#edit (for 127.0.0.1 at 2009-05-06 22:00:44) [GET]
  Parameters: {"id"=>"40"}
  [4;36;1mQuestion Columns (627.5ms)[0m   [0;1mSHOW FIELDS FROM `questions`[0m
  [4;35;1mQuestion Load (2.4ms)[0m   [0mSELECT * FROM `questions` WHERE (`questions`.`id` = 40) [0m
Rendering template within layouts/layout_1_column
Rendering questions/edit
  [4;36;1mQuestionGeneric Columns (4.0ms)[0m   [0;1mSHOW FIELDS FROM `questions`[0m
  [4;35;1mCategory Columns (3.3ms)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mCategory Load (1.2ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 5) [0m
Rendered questions/_choice_title (8.9ms)
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Question') AND (`taggings`.taggable_id = 40)) [0m
Rendered main/_media_editor (180.7ms)
Rendered main/_image_editor (0.8ms)
  [4;36;1mChoice Load (0.8ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.question_id = 40) [0m
  [4;35;1mChoice Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoiceSimple Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Rendered main/_media_editor (0.8ms)
Rendered main/_image_editor (0.9ms)
  [4;35;1mTip Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `tips`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 134) [0m
  [4;35;1mTip Load (1.2ms)[0m   [0mSELECT * FROM `tips` WHERE (`tips`.choice_id = 134) [0m
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;36;1mProduct Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (3.5ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;36;1mFeature Load (2.1ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mFeature Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTag Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureDate Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureHeader Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureNumeric Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTags Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureBinary Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTextArea Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureNumericInterval Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mProduct Load (10.7ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.category_id = 5) [0m
  [4;35;1mProductFilter Load (0.6ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 134) [0m
  [4;36;1mProductFilter Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mProductFilterFeatureTags Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `product_filters`[0m
  [4;36;1mFeature Load (0.7ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;35;1mDomain Load (0.3ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;36;1mDtag Load (0.5ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
  [4;35;1mDtag Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `dtags`[0m
Rendered product_filters/_edit (19.9ms)
  [4;36;1mProductFilterSimple Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 23) [0m
Rendered product_filters/_edit (1.3ms)
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendered product_filters/_edit (1.4ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;36;1mTip Load (0.8ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 135) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
Rendered product_filters/_edit (3.3ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;36;1mTip Load (0.8ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 38) [0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 44) [0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 33) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 136) [0m
  [4;36;1mFeature Load (0.3ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 150) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 133) [0m
  [4;36;1mDtag Load (0.2ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (480,481)) [0m
Rendered product_filters/_edit (3.0ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;36;1mTip Load (0.8ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 50) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 137) [0m
  [4;36;1mFeature Load (0.3ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 149) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 132) [0m
  [4;36;1mDtag Load (0.3ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (474,475,476,477,478,479,1028,1069)) [0m
Rendered product_filters/_edit (3.6ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 138) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 138) [0m
  [4;36;1mProductFilterRating Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mFeature Load (0.3ms)[0m   [0mSELECT * FROM `features` WHERE (`features`.`id` = 151) [0m
Rendered product_filters/_edit (1.6ms)
Rendered questions/_choices_generic (594.9ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.5ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.1ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.1ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.1ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.4ms)
Rendered main/_fpa_cb (0.1ms)
Rendered questions/_show (3.9ms)
  [4;36;1mUser Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 1364ms (View: 612, DB: 721) | 200 OK [http://localhost/questions/40/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:00:46) [GET]
  Parameters: {"id"=>"134"}
  [4;35;1mChoice Columns (3.9ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (2.1ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 134) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (7.0ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 244ms (View: 216, DB: 13) | 200 OK [http://localhost/choices/134/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:00:46) [GET]
  Parameters: {"id"=>"135"}
  [4;35;1mChoice Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (0.7ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 135) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 140ms (View: 117, DB: 5) | 200 OK [http://localhost/choices/135/thumbnail.jpg]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:00:47) [GET]
  Parameters: {"id"=>"136"}
  [4;35;1mChoice Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (1.5ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 136) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 143ms (View: 120, DB: 6) | 200 OK [http://localhost/choices/136/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:00:47) [GET]
  Parameters: {"id"=>"137"}
  [4;35;1mChoice Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (0.4ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 137) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 139ms (View: 118, DB: 5) | 200 OK [http://localhost/choices/137/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:00:47) [GET]
  Parameters: {"id"=>"138"}
  [4;35;1mChoice Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (0.3ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 138) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 139ms (View: 119, DB: 5) | 200 OK [http://localhost/choices/138/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing QuestionsController#edit (for 127.0.0.1 at 2009-05-06 22:00:57) [GET]
  Parameters: {"id"=>"40"}
  [4;35;1mQuestion Columns (4.8ms)[0m   [0mSHOW FIELDS FROM `questions`[0m
  [4;36;1mQuestion Load (0.4ms)[0m   [0;1mSELECT * FROM `questions` WHERE (`questions`.`id` = 40) [0m
Rendering template within layouts/layout_1_column
Rendering questions/edit
  [4;35;1mQuestionGeneric Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `questions`[0m
  [4;36;1mCategory Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mCategory Load (0.7ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 5) [0m
Rendered questions/_choice_title (7.6ms)
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Question') AND (`taggings`.taggable_id = 40)) [0m
Rendered main/_media_editor (182.8ms)
Rendered main/_image_editor (0.9ms)
  [4;35;1mChoice Load (0.7ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.question_id = 40) [0m
  [4;36;1mChoice Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoiceSimple Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Rendered main/_media_editor (0.7ms)
Rendered main/_image_editor (0.9ms)
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 134) [0m
  [4;35;1mTip Load (0.8ms)[0m   [0mSELECT * FROM `tips` WHERE (`tips`.choice_id = 134) [0m
  [4;36;1mProduct Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m

ActionView::TemplateError (can't dup NilClass) on line #67 of app/views/questions/_choices_generic.html.erb:
64: 		<!-- number of product matching -->
65: 		<small style="">
66: 			<b><%= choice_generic.tips.size %> products matching:</b>
67: 			<%= choice_generic.tips.first(3).collect {|t| t.product ? t.product.label : '?' }.join(', ') %>
68: 			<%= ", ..." if choice_generic.tips.size > 3 %>
69: 		</small>
70: 		

    app/views/questions/_choices_generic.html.erb:67
    app/views/questions/_choices_generic.html.erb:67:in `collect'
    app/views/questions/_choices_generic.html.erb:67
    app/views/questions/_choices_generic.html.erb:46
    app/views/questions/edit.html.erb:25

Rendered rescues/_trace (60.5ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing QuestionsController#edit (for 127.0.0.1 at 2009-05-06 22:01:09) [GET]
  Parameters: {"id"=>"40"}
  [4;35;1mQuestion Columns (4.5ms)[0m   [0mSHOW FIELDS FROM `questions`[0m
  [4;36;1mQuestion Load (0.5ms)[0m   [0;1mSELECT * FROM `questions` WHERE (`questions`.`id` = 40) [0m
Rendering template within layouts/layout_1_column
Rendering questions/edit
  [4;35;1mQuestionGeneric Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `questions`[0m
  [4;36;1mCategory Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 5) [0m
Rendered questions/_choice_title (9.9ms)
  [4;36;1mTagging Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `taggings`[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Question') AND (`taggings`.taggable_id = 40)) [0m
Rendered main/_media_editor (176.6ms)
Rendered main/_image_editor (3.3ms)
  [4;36;1mChoice Load (0.7ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.question_id = 40) [0m
  [4;35;1mChoice Columns (528.8ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoiceSimple Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Rendered main/_media_editor (0.7ms)
Rendered main/_image_editor (0.9ms)
  [4;35;1mTip Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `tips`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 134) [0m
  [4;35;1mTip Load (0.8ms)[0m   [0mSELECT * FROM `tips` WHERE (`tips`.choice_id = 134) [0m
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;36;1mProduct Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.8ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;36;1mFeature Load (2.1ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mFeature Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTag Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureDate Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureHeader Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureNumeric Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTags Columns (3.6ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureBinary Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTextArea Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureNumericInterval Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mProduct Load (10.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.category_id = 5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 134) [0m
  [4;36;1mProductFilter Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mProductFilterFeatureTags Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `product_filters`[0m
  [4;36;1mFeature Load (0.5ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;35;1mDomain Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `domains`[0m
  [4;36;1mDomain Load (0.6ms)[0m   [0;1mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;35;1mDomainTag Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `domains`[0m
  [4;36;1mDtag Load (0.7ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
  [4;35;1mDtag Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `dtags`[0m
Rendered product_filters/_edit (34.8ms)
  [4;36;1mProductFilterSimple Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 23) [0m
Rendered product_filters/_edit (1.7ms)
  [4;36;1mProduct Load (0.9ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendered product_filters/_edit (1.8ms)
Rendered main/_media_editor (0.9ms)
Rendered main/_image_editor (1.1ms)
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;36;1mTip Load (1.0ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 135) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
Rendered product_filters/_edit (3.5ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.8ms)
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;36;1mTip Load (0.8ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 38) [0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 44) [0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 33) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.6ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 136) [0m
  [4;36;1mFeature Load (0.3ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 150) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 133) [0m
  [4;36;1mDomainBinary Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `domains`[0m
  [4;35;1mDtag Load (0.3ms)[0m   [0mSELECT * FROM `dtags` WHERE (id IN (480,481)) [0m
Rendered product_filters/_edit (7.6ms)
Rendered main/_media_editor (0.7ms)
Rendered main/_image_editor (0.8ms)
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;35;1mTip Load (0.9ms)[0m   [0mSELECT * FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 50) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;36;1mProductFilter Load (0.5ms)[0m   [0;1mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 137) [0m
  [4;35;1mFeature Load (0.3ms)[0m   [0mSELECT * FROM `features` WHERE (`features`.`id` = 149) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM `domains` WHERE (`domains`.`id` = 132) [0m
  [4;35;1mDtag Load (0.3ms)[0m   [0mSELECT * FROM `dtags` WHERE (id IN (474,475,476,477,478,479,1028,1069)) [0m
Rendered product_filters/_edit (3.6ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 138) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;36;1mProductFilter Load (0.5ms)[0m   [0;1mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 138) [0m
  [4;35;1mProductFilterRating Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `product_filters`[0m
  [4;36;1mFeature Load (0.3ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 151) [0m
Rendered product_filters/_edit (1.5ms)
Rendered questions/_choices_generic (1329.6ms)
Rendered main/_image80x80 (0.6ms)
Rendered main/_thumbnail (5.1ms)
Rendered main/_fpa_cb (2.3ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.4ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.1ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.1ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.1ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered questions/_show (23.4ms)
  [4;35;1mUser Columns (3.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 1466ms (View: 790, DB: 622) | 200 OK [http://localhost/questions/40/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:01:11) [GET]
  Parameters: {"id"=>"134"}
  [4;36;1mChoice Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.7ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 134) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 164ms (View: 142, DB: 5) | 200 OK [http://localhost/choices/134/thumbnail.jpg]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:01:11) [GET]
  Parameters: {"id"=>"135"}
  [4;36;1mChoice Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.7ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 135) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 134ms (View: 115, DB: 5) | 200 OK [http://localhost/choices/135/thumbnail.jpg]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:01:11) [GET]
  Parameters: {"id"=>"136"}
  [4;36;1mChoice Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.7ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 136) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 135ms (View: 113, DB: 5) | 200 OK [http://localhost/choices/136/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:01:12) [GET]
  Parameters: {"id"=>"137"}
  [4;36;1mChoice Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.6ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 137) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 133ms (View: 113, DB: 5) | 200 OK [http://localhost/choices/137/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:01:12) [GET]
  Parameters: {"id"=>"138"}
  [4;36;1mChoice Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.3ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 138) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 133ms (View: 111, DB: 5) | 200 OK [http://localhost/choices/138/thumbnail.jpg]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing QuestionsController#edit (for 127.0.0.1 at 2009-05-06 22:04:14) [GET]
  Parameters: {"id"=>"40"}
  [4;36;1mQuestion Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `questions`[0m
  [4;35;1mQuestion Load (3.9ms)[0m   [0mSELECT * FROM `questions` WHERE (`questions`.`id` = 40) [0m
Rendering template within layouts/layout_1_column
Rendering questions/edit
  [4;36;1mQuestionGeneric Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `questions`[0m
  [4;35;1mCategory Columns (3.2ms)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mCategory Load (1.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 5) [0m
Rendered questions/_choice_title (8.6ms)
  [4;35;1mTag Load (0.6ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Question') AND (`taggings`.taggable_id = 40)) [0m
Rendered main/_media_editor (191.7ms)
Rendered main/_image_editor (0.9ms)
  [4;36;1mChoice Load (0.7ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.question_id = 40) [0m
  [4;35;1mChoice Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoiceSimple Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Rendered main/_media_editor (0.9ms)
Rendered main/_image_editor (0.8ms)
  [4;35;1mTip Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `tips`[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 134) [0m
  [4;35;1mTip Load (1.2ms)[0m   [0mSELECT * FROM `tips` WHERE (`tips`.choice_id = 134) [0m
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;36;1mProduct Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (2.2ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;36;1mFeature Load (2.7ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mFeature Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTag Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureDate Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureHeader Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureNumeric Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTags Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureBinary Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTextArea Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureNumericInterval Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mProduct Load (10.7ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.category_id = 5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 134) [0m
  [4;36;1mProductFilter Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mProductFilterFeatureTags Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `product_filters`[0m
  [4;36;1mFeature Load (0.4ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;36;1mDtag Load (0.5ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
  [4;35;1mDtag Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `dtags`[0m
Rendered product_filters/_edit (16.7ms)
  [4;36;1mProductFilterSimple Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 23) [0m
Rendered product_filters/_edit (1.4ms)
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendered product_filters/_edit (1.5ms)
Rendered main/_media_editor (0.7ms)
Rendered main/_image_editor (0.7ms)
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;36;1mTip Load (0.8ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 135) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
Rendered product_filters/_edit (3.3ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;36;1mTip Load (0.8ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 38) [0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 44) [0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 33) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 136) [0m
  [4;36;1mFeature Load (0.3ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 150) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 133) [0m
  [4;36;1mDtag Load (0.2ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (480,481)) [0m
Rendered product_filters/_edit (3.1ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;36;1mTip Load (0.8ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 50) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 137) [0m
  [4;36;1mFeature Load (0.3ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 149) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 132) [0m
  [4;36;1mDtag Load (0.3ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (474,475,476,477,478,479,1028,1069)) [0m
Rendered product_filters/_edit (3.5ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 138) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 138) [0m
  [4;36;1mProductFilterRating Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mFeature Load (0.4ms)[0m   [0mSELECT * FROM `features` WHERE (`features`.`id` = 151) [0m
Rendered product_filters/_edit (1.7ms)
Rendered questions/_choices_generic (599.8ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.4ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.1ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.1ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.1ms)
Rendered main/_thumbnail (0.4ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.1ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered questions/_show (3.8ms)
  [4;36;1mUser Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 746ms (View: 628, DB: 91) | 200 OK [http://localhost/questions/40/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:04:16) [GET]
  Parameters: {"id"=>"134"}
  [4;35;1mChoice Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (3.0ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 134) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 242ms (View: 219, DB: 8) | 200 OK [http://localhost/choices/134/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:04:16) [GET]
  Parameters: {"id"=>"135"}
  [4;35;1mChoice Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (0.4ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 135) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 142ms (View: 121, DB: 5) | 200 OK [http://localhost/choices/135/thumbnail.jpg]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:04:16) [GET]
  Parameters: {"id"=>"136"}
  [4;35;1mChoice Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (0.4ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 136) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 139ms (View: 119, DB: 5) | 200 OK [http://localhost/choices/136/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:04:16) [GET]
  Parameters: {"id"=>"137"}
  [4;35;1mChoice Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (0.7ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 137) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 139ms (View: 118, DB: 5) | 200 OK [http://localhost/choices/137/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:04:17) [GET]
  Parameters: {"id"=>"138"}
  [4;35;1mChoice Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (5.9ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 138) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 144ms (View: 117, DB: 11) | 200 OK [http://localhost/choices/138/thumbnail.jpg]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing QuestionsController#edit (for 127.0.0.1 at 2009-05-06 22:04:21) [GET]
  Parameters: {"id"=>"40"}
  [4;35;1mQuestion Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `questions`[0m
  [4;36;1mQuestion Load (2.9ms)[0m   [0;1mSELECT * FROM `questions` WHERE (`questions`.`id` = 40) [0m
Rendering template within layouts/layout_1_column
Rendering questions/edit
  [4;35;1mQuestionGeneric Columns (11.8ms)[0m   [0mSHOW FIELDS FROM `questions`[0m
  [4;36;1mCategory Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 5) [0m
Rendered questions/_choice_title (9.9ms)
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Question') AND (`taggings`.taggable_id = 40)) [0m
Rendered main/_media_editor (186.7ms)
Rendered main/_image_editor (0.9ms)
  [4;35;1mChoice Load (0.7ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.question_id = 40) [0m
  [4;36;1mChoice Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoiceSimple Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Rendered main/_media_editor (0.7ms)
Rendered main/_image_editor (1.0ms)
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 134) [0m
  [4;35;1mTip Load (0.8ms)[0m   [0mSELECT * FROM `tips` WHERE (`tips`.choice_id = 134) [0m
  [4;36;1mProduct Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m

ActionView::TemplateError (can't dup NilClass) on line #67 of app/views/questions/_choices_generic.html.erb:
64: 		<!-- number of product matching -->
65: 		<small style="">
66: 			<b><%= choice_generic.tips.size %> products matching:</b>
67: 			<%= choice_generic.tips.first(3).collect {|t| t.product ? t.product.label : '?' }.join(', ') %>
68: 			<%= ", ..." if choice_generic.tips.size > 3 %>
69: 		</small>
70: 		

    app/views/questions/_choices_generic.html.erb:67
    app/views/questions/_choices_generic.html.erb:67:in `collect'
    app/views/questions/_choices_generic.html.erb:67
    app/views/questions/_choices_generic.html.erb:46
    app/views/questions/edit.html.erb:25

Rendered rescues/_trace (60.0ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing QuestionsController#edit (for 127.0.0.1 at 2009-05-06 22:04:34) [GET]
  Parameters: {"id"=>"40"}
  [4;35;1mQuestion Columns (4.5ms)[0m   [0mSHOW FIELDS FROM `questions`[0m
  [4;36;1mQuestion Load (0.5ms)[0m   [0;1mSELECT * FROM `questions` WHERE (`questions`.`id` = 40) [0m
Rendering template within layouts/layout_1_column
Rendering questions/edit
  [4;35;1mQuestionGeneric Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `questions`[0m
  [4;36;1mCategory Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 5) [0m
Rendered questions/_choice_title (10.7ms)
  [4;36;1mTagging Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `taggings`[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Question') AND (`taggings`.taggable_id = 40)) [0m
Rendered main/_media_editor (179.5ms)
Rendered main/_image_editor (3.4ms)
  [4;36;1mChoice Load (0.7ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.question_id = 40) [0m
  [4;35;1mChoice Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoiceSimple Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Rendered main/_media_editor (0.7ms)
Rendered main/_image_editor (1.0ms)
  [4;35;1mTip Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `tips`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 134) [0m
  [4;35;1mTip Load (0.8ms)[0m   [0mSELECT * FROM `tips` WHERE (`tips`.choice_id = 134) [0m
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;36;1mProduct Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.9ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;36;1mFeature Load (2.1ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mFeature Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTag Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureDate Columns (3.5ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureHeader Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureNumeric Columns (3.1ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTags Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureBinary Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTextArea Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureNumericInterval Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mProduct Load (10.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.category_id = 5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 134) [0m
  [4;36;1mProductFilter Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mProductFilterFeatureTags Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `product_filters`[0m
  [4;36;1mFeature Load (0.4ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;35;1mDomain Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `domains`[0m
  [4;36;1mDomain Load (0.6ms)[0m   [0;1mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;35;1mDomainTag Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `domains`[0m
  [4;36;1mDtag Load (0.5ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
  [4;35;1mDtag Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `dtags`[0m
Rendered product_filters/_edit (35.7ms)
  [4;36;1mProductFilterSimple Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 23) [0m
Rendered product_filters/_edit (1.6ms)
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendered product_filters/_edit (1.4ms)
Rendered main/_media_editor (0.7ms)
Rendered main/_image_editor (0.8ms)
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;36;1mTip Load (0.8ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 135) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
Rendered product_filters/_edit (3.4ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.8ms)
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;36;1mTip Load (0.8ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 38) [0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 44) [0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 33) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.6ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 136) [0m
  [4;36;1mFeature Load (0.3ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 150) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 133) [0m
  [4;36;1mDomainBinary Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `domains`[0m
  [4;35;1mDtag Load (0.3ms)[0m   [0mSELECT * FROM `dtags` WHERE (id IN (480,481)) [0m
Rendered product_filters/_edit (6.6ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;35;1mTip Load (0.8ms)[0m   [0mSELECT * FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 50) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;36;1mProductFilter Load (0.5ms)[0m   [0;1mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 137) [0m
  [4;35;1mFeature Load (0.3ms)[0m   [0mSELECT * FROM `features` WHERE (`features`.`id` = 149) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM `domains` WHERE (`domains`.`id` = 132) [0m
  [4;35;1mDtag Load (0.3ms)[0m   [0mSELECT * FROM `dtags` WHERE (id IN (474,475,476,477,478,479,1028,1069)) [0m
Rendered product_filters/_edit (3.6ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 138) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;36;1mProductFilter Load (0.6ms)[0m   [0;1mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 138) [0m
  [4;35;1mProductFilterRating Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `product_filters`[0m
  [4;36;1mFeature Load (0.3ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 151) [0m
Rendered product_filters/_edit (1.6ms)
Rendered questions/_choices_generic (809.2ms)
Rendered main/_image80x80 (0.6ms)
Rendered main/_thumbnail (5.2ms)
Rendered main/_fpa_cb (1.8ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.1ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.1ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.1ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered questions/_show (22.8ms)
  [4;35;1mUser Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 948ms (View: 798, DB: 96) | 200 OK [http://localhost/questions/40/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:04:36) [GET]
  Parameters: {"id"=>"134"}
  [4;36;1mChoice Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (1.4ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 134) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (3.5ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 169ms (View: 145, DB: 7) | 200 OK [http://localhost/choices/134/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:04:36) [GET]
  Parameters: {"id"=>"135"}
  [4;36;1mChoice Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.8ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 135) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 136ms (View: 116, DB: 6) | 200 OK [http://localhost/choices/135/thumbnail.jpg]
  [4;35;1mSQL (0.6ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:04:36) [GET]
  Parameters: {"id"=>"136"}
  [4;36;1mChoice Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.3ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 136) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 134ms (View: 114, DB: 5) | 200 OK [http://localhost/choices/136/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:04:36) [GET]
  Parameters: {"id"=>"137"}
  [4;36;1mChoice Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.9ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 137) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 136ms (View: 113, DB: 5) | 200 OK [http://localhost/choices/137/thumbnail.jpg]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:04:36) [GET]
  Parameters: {"id"=>"138"}
  [4;36;1mChoice Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.5ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 138) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 134ms (View: 113, DB: 5) | 200 OK [http://localhost/choices/138/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing QuestionsController#edit (for 127.0.0.1 at 2009-05-06 22:06:05) [GET]
  Parameters: {"id"=>"40"}
  [4;36;1mQuestion Columns (22.4ms)[0m   [0;1mSHOW FIELDS FROM `questions`[0m
  [4;35;1mQuestion Load (3.0ms)[0m   [0mSELECT * FROM `questions` WHERE (`questions`.`id` = 40) [0m
Rendering template within layouts/layout_1_column
Rendering questions/edit
  [4;36;1mQuestionGeneric Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `questions`[0m
  [4;35;1mCategory Columns (4.5ms)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mCategory Load (1.5ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 5) [0m
Rendered questions/_choice_title (8.8ms)
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Question') AND (`taggings`.taggable_id = 40)) [0m
Rendered main/_media_editor (189.7ms)
Rendered main/_image_editor (0.9ms)
  [4;36;1mChoice Load (0.7ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.question_id = 40) [0m
  [4;35;1mChoice Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoiceSimple Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Rendered main/_media_editor (0.7ms)
Rendered main/_image_editor (0.8ms)
  [4;35;1mTip Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `tips`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 134) [0m
  [4;35;1mTip Load (0.8ms)[0m   [0mSELECT * FROM `tips` WHERE (`tips`.choice_id = 134) [0m
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;36;1mProduct Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (2.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mProduct Load (0.8ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;36;1mFeature Load (2.1ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mFeature Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTag Columns (3.4ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureDate Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureHeader Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureNumeric Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTags Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureBinary Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTextArea Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureNumericInterval Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mProduct Load (10.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.category_id = 5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 134) [0m
  [4;36;1mProductFilter Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mProductFilterFeatureTags Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `product_filters`[0m
  [4;36;1mFeature Load (0.4ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;36;1mDtag Load (0.5ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
  [4;35;1mDtag Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `dtags`[0m
Rendered product_filters/_edit (17.4ms)
  [4;36;1mProductFilterSimple Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 23) [0m
Rendered product_filters/_edit (1.5ms)
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendered product_filters/_edit (1.4ms)
Rendered main/_media_editor (0.7ms)
Rendered main/_image_editor (0.7ms)
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;36;1mTip Load (0.8ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 135) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
Rendered product_filters/_edit (3.4ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;36;1mTip Load (0.8ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 38) [0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 44) [0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 33) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 136) [0m
  [4;36;1mFeature Load (0.3ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 150) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 133) [0m
  [4;36;1mDtag Load (0.2ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (480,481)) [0m
Rendered product_filters/_edit (3.1ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;36;1mTip Load (0.8ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 50) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 137) [0m
  [4;36;1mFeature Load (0.3ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 149) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 132) [0m
  [4;36;1mDtag Load (0.3ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (474,475,476,477,478,479,1028,1069)) [0m
Rendered product_filters/_edit (3.7ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 138) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 138) [0m
  [4;36;1mProductFilterRating Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mFeature Load (0.3ms)[0m   [0mSELECT * FROM `features` WHERE (`features`.`id` = 151) [0m
Rendered product_filters/_edit (1.6ms)
Rendered questions/_choices_generic (589.6ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.4ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.1ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.3ms)
Rendered main/_thumbnail (0.4ms)
Rendered main/_fpa_cb (0.1ms)
Rendered questions/_show (3.8ms)
  [4;36;1mUser Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 757ms (View: 617, DB: 111) | 200 OK [http://localhost/questions/40/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:06:06) [GET]
  Parameters: {"id"=>"134"}
  [4;35;1mChoice Columns (3.6ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (2.1ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 134) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (3.4ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 247ms (View: 222, DB: 9) | 200 OK [http://localhost/choices/134/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:06:07) [GET]
  Parameters: {"id"=>"135"}
  [4;35;1mChoice Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (2.4ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 135) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 143ms (View: 119, DB: 7) | 200 OK [http://localhost/choices/135/thumbnail.jpg]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:06:07) [GET]
  Parameters: {"id"=>"136"}
  [4;35;1mChoice Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (0.3ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 136) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 139ms (View: 119, DB: 5) | 200 OK [http://localhost/choices/136/thumbnail.jpg]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:06:07) [GET]
  Parameters: {"id"=>"137"}
  [4;35;1mChoice Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (0.4ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 137) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 140ms (View: 119, DB: 5) | 200 OK [http://localhost/choices/137/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:06:07) [GET]
  Parameters: {"id"=>"138"}
  [4;35;1mChoice Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (0.4ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 138) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 138ms (View: 117, DB: 5) | 200 OK [http://localhost/choices/138/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing QuestionsController#edit (for 127.0.0.1 at 2009-05-06 22:06:10) [GET]
  Parameters: {"id"=>"40"}
  [4;35;1mQuestion Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `questions`[0m
  [4;36;1mQuestion Load (2.5ms)[0m   [0;1mSELECT * FROM `questions` WHERE (`questions`.`id` = 40) [0m
Rendering template within layouts/layout_1_column
Rendering questions/edit
  [4;35;1mQuestionGeneric Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `questions`[0m
  [4;36;1mCategory Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mCategory Load (0.5ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 5) [0m
Rendered questions/_choice_title (7.7ms)
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Question') AND (`taggings`.taggable_id = 40)) [0m
Rendered main/_media_editor (187.7ms)
Rendered main/_image_editor (0.9ms)
  [4;35;1mChoice Load (0.7ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.question_id = 40) [0m
  [4;36;1mChoice Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoiceSimple Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Rendered main/_media_editor (0.7ms)
Rendered main/_image_editor (1.7ms)
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 134) [0m
  [4;35;1mTip Load (1.3ms)[0m   [0mSELECT * FROM `tips` WHERE (`tips`.choice_id = 134) [0m
  [4;36;1mProduct Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m

ActionView::TemplateError (can't dup NilClass) on line #67 of app/views/questions/_choices_generic.html.erb:
64: 		<!-- number of product matching -->
65: 		<small style="">
66: 			<b><%= choice_generic.tips.size %> products matching:</b>
67: 			<%= choice_generic.tips.first(3).collect {|t| t.product ? t.product.label : '?' }.join(', ') %>
68: 			<%= ", ..." if choice_generic.tips.size > 3 %>
69: 		</small>
70: 		

    app/views/questions/_choices_generic.html.erb:67
    app/views/questions/_choices_generic.html.erb:67:in `collect'
    app/views/questions/_choices_generic.html.erb:67
    app/views/questions/_choices_generic.html.erb:46
    app/views/questions/edit.html.erb:25

Rendered rescues/_trace (60.2ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing QuestionsController#edit (for 127.0.0.1 at 2009-05-06 22:06:17) [GET]
  Parameters: {"id"=>"40"}
  [4;35;1mQuestion Columns (4.7ms)[0m   [0mSHOW FIELDS FROM `questions`[0m
  [4;36;1mQuestion Load (0.5ms)[0m   [0;1mSELECT * FROM `questions` WHERE (`questions`.`id` = 40) [0m
Rendering template within layouts/layout_1_column
Rendering questions/edit
  [4;35;1mQuestionGeneric Columns (42.5ms)[0m   [0mSHOW FIELDS FROM `questions`[0m
  [4;36;1mCategory Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 5) [0m
Rendered questions/_choice_title (10.6ms)
  [4;36;1mTagging Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `taggings`[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Question') AND (`taggings`.taggable_id = 40)) [0m
Rendered main/_media_editor (180.2ms)
Rendered main/_image_editor (3.3ms)
  [4;36;1mChoice Load (0.8ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.question_id = 40) [0m
  [4;35;1mChoice Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoiceSimple Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Rendered main/_media_editor (0.7ms)
Rendered main/_image_editor (1.0ms)
  [4;35;1mTip Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `tips`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 134) [0m
  [4;35;1mTip Load (0.8ms)[0m   [0mSELECT * FROM `tips` WHERE (`tips`.choice_id = 134) [0m
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;36;1mProduct Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.9ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;36;1mFeature Load (2.1ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mFeature Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTag Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureDate Columns (3.2ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureHeader Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureNumeric Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTags Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureBinary Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTextArea Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureNumericInterval Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mProduct Load (10.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.category_id = 5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 134) [0m
  [4;36;1mProductFilter Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mProductFilterFeatureTags Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `product_filters`[0m
  [4;36;1mFeature Load (0.4ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;35;1mDomain Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `domains`[0m
  [4;36;1mDomain Load (0.7ms)[0m   [0;1mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;35;1mDomainTag Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `domains`[0m
  [4;36;1mDtag Load (0.5ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
  [4;35;1mDtag Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `dtags`[0m
Rendered product_filters/_edit (34.6ms)
  [4;36;1mProductFilterSimple Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 23) [0m
Rendered product_filters/_edit (1.5ms)
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendered product_filters/_edit (1.4ms)
Rendered main/_media_editor (0.8ms)
Rendered main/_image_editor (1.0ms)
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;36;1mTip Load (0.9ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 135) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
Rendered product_filters/_edit (3.5ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.8ms)
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;36;1mTip Load (0.8ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 38) [0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 44) [0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 33) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.6ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 136) [0m
  [4;36;1mFeature Load (0.3ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 150) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 133) [0m
  [4;36;1mDomainBinary Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `domains`[0m
  [4;35;1mDtag Load (0.3ms)[0m   [0mSELECT * FROM `dtags` WHERE (id IN (480,481)) [0m
Rendered product_filters/_edit (6.7ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;35;1mTip Load (0.8ms)[0m   [0mSELECT * FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 50) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;36;1mProductFilter Load (0.5ms)[0m   [0;1mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 137) [0m
  [4;35;1mFeature Load (0.3ms)[0m   [0mSELECT * FROM `features` WHERE (`features`.`id` = 149) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM `domains` WHERE (`domains`.`id` = 132) [0m
  [4;35;1mDtag Load (0.3ms)[0m   [0mSELECT * FROM `dtags` WHERE (id IN (474,475,476,477,478,479,1028,1069)) [0m
Rendered product_filters/_edit (3.7ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 138) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;36;1mProductFilter Load (0.5ms)[0m   [0;1mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 138) [0m
  [4;35;1mProductFilterRating Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `product_filters`[0m
  [4;36;1mFeature Load (0.3ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 151) [0m
Rendered product_filters/_edit (1.6ms)
Rendered questions/_choices_generic (841.1ms)
Rendered main/_image80x80 (0.7ms)
Rendered main/_thumbnail (5.5ms)
Rendered main/_fpa_cb (1.6ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.4ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered questions/_show (23.5ms)
  [4;35;1mUser Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 975ms (View: 789, DB: 132) | 200 OK [http://localhost/questions/40/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:06:19) [GET]
  Parameters: {"id"=>"134"}
  [4;36;1mChoice Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.4ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 134) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 166ms (View: 144, DB: 6) | 200 OK [http://localhost/choices/134/thumbnail.jpg]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:06:19) [GET]
  Parameters: {"id"=>"135"}
  [4;36;1mChoice Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (1.3ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 135) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 145ms (View: 125, DB: 5) | 200 OK [http://localhost/choices/135/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:06:20) [GET]
  Parameters: {"id"=>"136"}
  [4;36;1mChoice Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.4ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 136) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 139ms (View: 115, DB: 5) | 200 OK [http://localhost/choices/136/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:06:20) [GET]
  Parameters: {"id"=>"137"}
  [4;36;1mChoice Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.3ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 137) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 135ms (View: 115, DB: 5) | 200 OK [http://localhost/choices/137/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:06:20) [GET]
  Parameters: {"id"=>"138"}
  [4;36;1mChoice Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.4ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 138) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 135ms (View: 114, DB: 5) | 200 OK [http://localhost/choices/138/thumbnail.jpg]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#add_filter (for 127.0.0.1 at 2009-05-06 22:06:33) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"HpfBv93Y5wqvgK8T/DA7Mx10a6pthd8SNApONY3Uu9A=", "product_id"=>"24", "id"=>"134", "recommendation"=>"+1", "type_filter"=>"product", "feature_id"=>"1"}
  [4;36;1mChoice Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (1.6ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 134) [0m
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;36;1mProduct Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.8ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 24) [0m
  [4;36;1mProductFilterSimple Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mProductFilterSimple Create (0.3ms)[0m   [0;1mINSERT INTO `product_filters` (`updated_at`, `type`, `product_id`, `operator`, `choice_id`, `recommendation`, `feature_id`, `descriptor`, `created_at`) VALUES('2009-05-06 20:06:33', 'ProductFilterSimple', 24, 'or', NULL, 1, NULL, NULL, '2009-05-06 20:06:33')[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mChoiceSimple Columns (3.5ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mSQL (1.3ms)[0m   [0mBEGIN[0m
  [4;36;1mProductFilterSimple Update (0.3ms)[0m   [0;1mUPDATE `product_filters` SET `choice_id` = 134, `updated_at` = '2009-05-06 20:06:33' WHERE `id` = 198[0m
  [4;35;1mSQL (0.9ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3000/questions/40/edit
Completed in 72ms (DB: 16) | 302 Found [http://localhost/choices/134/add_filter]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing QuestionsController#edit (for 127.0.0.1 at 2009-05-06 22:06:33) [GET]
  Parameters: {"id"=>"40"}
  [4;35;1mQuestion Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `questions`[0m
  [4;36;1mQuestion Load (0.8ms)[0m   [0;1mSELECT * FROM `questions` WHERE (`questions`.`id` = 40) [0m
Rendering template within layouts/layout_1_column
Rendering questions/edit
  [4;35;1mQuestionGeneric Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `questions`[0m
  [4;36;1mCategory Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mCategory Load (0.7ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 5) [0m
Rendered questions/_choice_title (7.7ms)
  [4;36;1mTag Load (0.4ms)[0m   [0;1mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Question') AND (`taggings`.taggable_id = 40)) [0m
Rendered main/_media_editor (167.7ms)
Rendered main/_image_editor (0.9ms)
  [4;35;1mChoice Load (0.8ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.question_id = 40) [0m
  [4;36;1mChoice Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoiceSimple Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Rendered main/_media_editor (0.7ms)
Rendered main/_image_editor (0.9ms)
  [4;36;1mTip Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `tips`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 134) [0m
  [4;36;1mTip Load (1.0ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 134) [0m
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;35;1mProduct Columns (3.2ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.9ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;35;1mProduct Load (0.8ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;35;1mFeature Load (2.2ms)[0m   [0mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;36;1mFeature Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureTag Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureDate Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureHeader Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureNumeric Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureTags Columns (3.3ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureBinary Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureTextArea Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureNumericInterval Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mProduct Load (10.6ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.category_id = 5) [0m
  [4;36;1mProductFilter Load (0.7ms)[0m   [0;1mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 134) [0m
  [4;35;1mProductFilter Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `product_filters`[0m
  [4;36;1mProductFilterFeatureTags Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mFeature Load (0.4ms)[0m   [0mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;35;1mDtag Load (0.5ms)[0m   [0mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
  [4;36;1mDtag Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `dtags`[0m
Rendered product_filters/_edit (18.8ms)
  [4;35;1mProductFilterSimple Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `product_filters`[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 23) [0m
Rendered product_filters/_edit (1.4ms)
  [4;35;1mProduct Load (0.8ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendered product_filters/_edit (1.6ms)
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 24) [0m
Rendered product_filters/_edit (1.5ms)
Rendered main/_media_editor (0.7ms)
Rendered main/_image_editor (0.8ms)
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;36;1mTip Load (0.8ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 135) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
Rendered product_filters/_edit (3.4ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;36;1mTip Load (0.8ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 38) [0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 44) [0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 33) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 136) [0m
  [4;36;1mFeature Load (0.3ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 150) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 133) [0m
  [4;36;1mDtag Load (0.2ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (480,481)) [0m
Rendered product_filters/_edit (3.1ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;36;1mTip Load (0.8ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 50) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 137) [0m
  [4;36;1mFeature Load (0.3ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 149) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 132) [0m
  [4;36;1mDtag Load (0.3ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (474,475,476,477,478,479,1028,1069)) [0m
Rendered product_filters/_edit (3.6ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 138) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 138) [0m
  [4;36;1mProductFilterRating Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mFeature Load (0.4ms)[0m   [0mSELECT * FROM `features` WHERE (`features`.`id` = 151) [0m
Rendered product_filters/_edit (1.7ms)
Rendered questions/_choices_generic (562.4ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.5ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.4ms)
Rendered main/_fpa_cb (0.1ms)
Rendered questions/_show (3.9ms)
  [4;36;1mUser Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 625ms (View: 513, DB: 87) | 200 OK [http://localhost/questions/40/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:06:34) [GET]
  Parameters: {"id"=>"134"}
  [4;35;1mChoice Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (0.7ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 134) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 133ms (View: 111, DB: 5) | 200 OK [http://localhost/choices/134/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:06:34) [GET]
  Parameters: {"id"=>"135"}
  [4;35;1mChoice Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (0.9ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 135) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 143ms (View: 120, DB: 6) | 200 OK [http://localhost/choices/135/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:06:35) [GET]
  Parameters: {"id"=>"136"}
  [4;35;1mChoice Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (0.6ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 136) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 140ms (View: 118, DB: 5) | 200 OK [http://localhost/choices/136/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:06:35) [GET]
  Parameters: {"id"=>"137"}
  [4;35;1mChoice Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (0.8ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 137) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 139ms (View: 118, DB: 5) | 200 OK [http://localhost/choices/137/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:06:35) [GET]
  Parameters: {"id"=>"138"}
  [4;35;1mChoice Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (0.7ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 138) [0m
Rendering choices/thumbnail
  [4;35;1mChoiceSimple Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
Completed in 142ms (View: 120, DB: 5) | 200 OK [http://localhost/choices/138/thumbnail.jpg]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#add_filter (for 127.0.0.1 at 2009-05-06 22:06:55) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"HpfBv93Y5wqvgK8T/DA7Mx10a6pthd8SNApONY3Uu9A=", "product_id"=>"27", "id"=>"135", "recommendation"=>"+1", "type_filter"=>"product", "feature_id"=>"1"}
  [4;35;1mChoice Columns (3.4ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoice Load (0.4ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.`id` = 135) [0m
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;35;1mProduct Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 27) [0m
  [4;35;1mProductFilterSimple Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `product_filters`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProductFilterSimple Create (0.3ms)[0m   [0mINSERT INTO `product_filters` (`updated_at`, `type`, `product_id`, `operator`, `choice_id`, `recommendation`, `feature_id`, `descriptor`, `created_at`) VALUES('2009-05-06 20:06:55', 'ProductFilterSimple', 27, 'or', NULL, 1, NULL, NULL, '2009-05-06 20:06:55')[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mChoiceSimple Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProductFilterSimple Update (0.3ms)[0m   [0mUPDATE `product_filters` SET `choice_id` = 135, `updated_at` = '2009-05-06 20:06:55' WHERE `id` = 199[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/questions/40/edit
Completed in 64ms (DB: 13) | 302 Found [http://localhost/choices/135/add_filter]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing QuestionsController#edit (for 127.0.0.1 at 2009-05-06 22:06:56) [GET]
  Parameters: {"id"=>"40"}
  [4;36;1mQuestion Columns (510.5ms)[0m   [0;1mSHOW FIELDS FROM `questions`[0m
  [4;35;1mQuestion Load (1.9ms)[0m   [0mSELECT * FROM `questions` WHERE (`questions`.`id` = 40) [0m
Rendering template within layouts/layout_1_column
Rendering questions/edit
  [4;36;1mQuestionGeneric Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `questions`[0m
  [4;35;1mCategory Columns (3.1ms)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mCategory Load (1.2ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 5) [0m
Rendered questions/_choice_title (8.4ms)
  [4;35;1mTag Load (0.5ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Question') AND (`taggings`.taggable_id = 40)) [0m
Rendered main/_media_editor (168.1ms)
Rendered main/_image_editor (0.9ms)
  [4;36;1mChoice Load (0.7ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.question_id = 40) [0m
  [4;35;1mChoice Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoiceSimple Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Rendered main/_media_editor (0.8ms)
Rendered main/_image_editor (1.0ms)
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 134) [0m
  [4;36;1mTip Load (1.0ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 134) [0m
  [4;35;1mProduct Columns (4.0ms)[0m   [0mSHOW FIELDS FROM `products`[0m

ActionView::TemplateError (can't dup NilClass) on line #67 of app/views/questions/_choices_generic.html.erb:
64: 		<!-- number of product matching -->
65: 		<small style="">
66: 			<b><%= choice_generic.tips.size %> products matching:</b>
67: 			<%= choice_generic.tips.first(3).collect {|t| t.product ? t.product.label : '?' }.join(', ') %>
68: 			<%= ", ..." if choice_generic.tips.size > 3 %>
69: 		</small>
70: 		

    app/views/questions/_choices_generic.html.erb:67
    app/views/questions/_choices_generic.html.erb:67:in `collect'
    app/views/questions/_choices_generic.html.erb:67
    app/views/questions/_choices_generic.html.erb:46
    app/views/questions/edit.html.erb:25

Rendered rescues/_trace (121.3ms)
Rendered rescues/_request_and_response (1.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing QuestionsController#edit (for 127.0.0.1 at 2009-05-06 22:07:06) [GET]
  Parameters: {"id"=>"40"}
  [4;35;1mQuestion Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `questions`[0m
  [4;36;1mQuestion Load (0.4ms)[0m   [0;1mSELECT * FROM `questions` WHERE (`questions`.`id` = 40) [0m
Rendering template within layouts/layout_1_column
Rendering questions/edit
  [4;35;1mQuestionGeneric Columns (3.7ms)[0m   [0mSHOW FIELDS FROM `questions`[0m
  [4;36;1mCategory Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mCategory Load (0.4ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 5) [0m
Rendered questions/_choice_title (13.0ms)
  [4;36;1mTagging Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `taggings`[0m
  [4;35;1mTag Load (0.4ms)[0m   [0mSELECT `tags`.* FROM `tags` INNER JOIN `taggings` ON `tags`.id = `taggings`.tag_id WHERE ((`taggings`.taggable_type = 'Question') AND (`taggings`.taggable_id = 40)) [0m
Rendered main/_media_editor (179.9ms)
Rendered main/_image_editor (3.4ms)
  [4;36;1mChoice Load (0.8ms)[0m   [0;1mSELECT * FROM `choices` WHERE (`choices`.question_id = 40) [0m
  [4;35;1mChoice Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `choices`[0m
  [4;36;1mChoiceSimple Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Rendered main/_media_editor (0.9ms)
Rendered main/_image_editor (1.1ms)
  [4;35;1mTip Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `tips`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 134) [0m
  [4;35;1mTip Load (1.0ms)[0m   [0mSELECT * FROM `tips` WHERE (`tips`.choice_id = 134) [0m
Asked for a remote server ? true, ENV["FERRET_USE_LOCAL_INDEX"] is nil, looks like we are not the server
Will use local index.
using index in /Users/fpatte/Desktop/nextmood/societe/projects/research/pikizi-backend/index/development/product
default field list: [:url, :category_path, :label, :description]
  [4;36;1mProduct Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mProduct Load (0.8ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;36;1mProduct Load (0.8ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;35;1mProduct Load (1.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;36;1mFeature Load (2.2ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mFeature Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTag Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureDate Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureHeader Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureNumeric Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTags Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureBinary Columns (3.1ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mFeatureTextArea Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `features`[0m
  [4;35;1mFeatureNumericInterval Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `features`[0m
  [4;36;1mProduct Load (10.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.category_id = 5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 134) [0m
  [4;36;1mProductFilter Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mProductFilterFeatureTags Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `product_filters`[0m
  [4;36;1mFeature Load (0.4ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;35;1mDomain Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `domains`[0m
  [4;36;1mDomain Load (0.3ms)[0m   [0;1mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;35;1mDomainTag Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `domains`[0m
  [4;36;1mDtag Load (0.5ms)[0m   [0;1mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
  [4;35;1mDtag Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `dtags`[0m
Rendered product_filters/_edit (32.8ms)
  [4;36;1mProductFilterSimple Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `product_filters`[0m
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 23) [0m
Rendered product_filters/_edit (1.6ms)
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 40) [0m
Rendered product_filters/_edit (1.4ms)
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 24) [0m
Rendered product_filters/_edit (1.4ms)
Rendered main/_media_editor (0.8ms)
Rendered main/_image_editor (0.8ms)
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;35;1mTip Load (0.8ms)[0m   [0mSELECT * FROM `tips` WHERE (`tips`.choice_id = 135) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 56) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;36;1mProductFilter Load (0.5ms)[0m   [0;1mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 135) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `features` WHERE (`features`.`id` = 124) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `domains` WHERE (`domains`.`id` = 110) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `dtags` WHERE (id IN (372,374,379,380,469,470,482,701,702,703,801,924,1128,1145)) [0m
Rendered product_filters/_edit (3.4ms)
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 27) [0m
Rendered product_filters/_edit (1.0ms)
Rendered main/_media_editor (0.7ms)
Rendered main/_image_editor (0.8ms)
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;36;1mTip Load (0.8ms)[0m   [0;1mSELECT * FROM `tips` WHERE (`tips`.choice_id = 136) [0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 38) [0m
  [4;36;1mProduct Load (0.9ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 44) [0m
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 33) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;35;1mProductFilter Load (0.5ms)[0m   [0mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 136) [0m
  [4;36;1mFeature Load (0.3ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 150) [0m
  [4;35;1mDomain Load (0.2ms)[0m   [0mSELECT * FROM `domains` WHERE (`domains`.`id` = 133) [0m
  [4;36;1mDomainBinary Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `domains`[0m
  [4;35;1mDtag Load (0.3ms)[0m   [0mSELECT * FROM `dtags` WHERE (id IN (480,481)) [0m
Rendered product_filters/_edit (6.8ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;35;1mTip Load (1.3ms)[0m   [0mSELECT * FROM `tips` WHERE (`tips`.choice_id = 137) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 49) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 55) [0m
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 50) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;36;1mProductFilter Load (0.5ms)[0m   [0;1mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 137) [0m
  [4;35;1mFeature Load (0.3ms)[0m   [0mSELECT * FROM `features` WHERE (`features`.`id` = 149) [0m
  [4;36;1mDomain Load (0.2ms)[0m   [0;1mSELECT * FROM `domains` WHERE (`domains`.`id` = 132) [0m
  [4;35;1mDtag Load (0.3ms)[0m   [0mSELECT * FROM `dtags` WHERE (id IN (474,475,476,477,478,479,1028,1069)) [0m
Rendered product_filters/_edit (3.8ms)
Rendered main/_media_editor (0.6ms)
Rendered main/_image_editor (0.7ms)
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `tips` WHERE (`tips`.choice_id = 138) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `features` WHERE (category_id=5) [0m
  [4;36;1mProductFilter Load (0.5ms)[0m   [0;1mSELECT * FROM `product_filters` WHERE (`product_filters`.choice_id = 138) [0m
  [4;35;1mProductFilterRating Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `product_filters`[0m
  [4;36;1mFeature Load (0.3ms)[0m   [0;1mSELECT * FROM `features` WHERE (`features`.`id` = 151) [0m
Rendered product_filters/_edit (1.6ms)
Rendered questions/_choices_generic (825.6ms)
Rendered main/_image80x80 (0.6ms)
Rendered main/_thumbnail (5.4ms)
Rendered main/_fpa_cb (1.7ms)
Rendered main/_image80x80 (0.2ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.1ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.1ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered main/_image80x80 (0.1ms)
Rendered main/_thumbnail (0.3ms)
Rendered main/_fpa_cb (0.1ms)
Rendered questions/_show (23.0ms)
  [4;35;1mUser Columns (3.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 1) LIMIT 1[0m
Completed in 956ms (View: 804, DB: 98) | 200 OK [http://localhost/questions/40/edit]
  [4;35;1mSQL (0.6ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:07:08) [GET]
  Parameters: {"id"=>"134"}
  [4;36;1mChoice Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.8ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 134) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 167ms (View: 145, DB: 7) | 200 OK [http://localhost/choices/134/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:07:08) [GET]
  Parameters: {"id"=>"135"}
  [4;36;1mChoice Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.4ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 135) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 135ms (View: 116, DB: 5) | 200 OK [http://localhost/choices/135/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:07:08) [GET]
  Parameters: {"id"=>"136"}
  [4;36;1mChoice Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.7ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 136) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 135ms (View: 114, DB: 5) | 200 OK [http://localhost/choices/136/thumbnail.jpg]
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:07:08) [GET]
  Parameters: {"id"=>"137"}
  [4;36;1mChoice Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.7ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 137) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 135ms (View: 115, DB: 5) | 200 OK [http://localhost/choices/137/thumbnail.jpg]
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ChoicesController#thumbnail to jpg (for 127.0.0.1 at 2009-05-06 22:07:08) [GET]
  Parameters: {"id"=>"138"}
  [4;36;1mChoice Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
  [4;35;1mChoice Load (0.4ms)[0m   [0mSELECT * FROM `choices` WHERE (`choices`.`id` = 138) [0m
Rendering choices/thumbnail
  [4;36;1mChoiceSimple Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `choices`[0m
Completed in 136ms (View: 114, DB: 5) | 200 OK [http://localhost/choices/138/thumbnail.jpg]
